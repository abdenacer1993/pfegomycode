{"ast":null,"code":"import { ADD_COURSES_FAIL, ADD_COURSES_SUCCESS, GET_ALL_COURSES_FAIL, GET_ALL_COURSES_SUCCESS, GET_ONE_COURSES_FAIL, GET_ONE_COURSES_SUCCESS, LOADING_COURSES, UPDATE_COURSES_FAIL, UPDATE_COURSES_SUCCESS } from \"../constants/coursesConstant\";\nimport axios from \"axios\";\nexport const getALLCourses = () => async dispatch => {\n  dispatch({\n    type: LOADING_COURSES\n  });\n\n  try {\n    const response = await axios.get(\"http://localhost:5000/Courses\");\n    dispatch({\n      type: GET_ALL_COURSES_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_ALL_COURSES_FAIL,\n      payload: error\n    });\n  }\n};\nexport const addCourses = (newCourses, navigate) => async dispatch => {\n  try {\n    const response = await axios.post(\"http://localhost:5000/Courses/AddCourses\", newCourses, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    console.log(response);\n    dispatch({\n      type: ADD_COURSES_SUCCESS\n    }); //dispatch(getALLCourses())\n\n    navigate(\"/\");\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: ADD_COURSES_FAIL,\n      payload: error\n    });\n  }\n};\n/*export const deleteCourses = (id) => async (dispatch) => {\n    try {\n      const response = await axios.delete(`http://localhost:5000/Courses/${id}`);\n      dispatch({\n        type: DELETE_COURSES_SUCCESS,\n      });  \n      dispatch(getALLCourses())\n    } catch (error) {\n      dispatch({ type: DELETE_COURSES_FAIL, payload: error });\n    }\n  };\n*/\n\nexport const getOneCourses = id => async dispatch => {\n  try {\n    const response = await axios.get(`http://localhost:5000/Courses/${id}`);\n    dispatch({\n      type: GET_ONE_COURSES_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_ONE_COURSES_FAIL,\n      payload: error\n    });\n  }\n};\nexport const updateOneCOURSES = (id, newOne, navigate) => async dispatch => {\n  try {\n    const response = await axios.put(`http://localhost:5000/Courses/${id}`, newOne);\n    dispatch({\n      type: UPDATE_COURSES_SUCCESS\n    });\n    dispatch(getALLCourses());\n    navigate(\"/\");\n  } catch (error) {\n    dispatch({\n      type: UPDATE_COURSES_FAIL,\n      payload: error\n    });\n  }\n};","map":{"version":3,"names":["ADD_COURSES_FAIL","ADD_COURSES_SUCCESS","GET_ALL_COURSES_FAIL","GET_ALL_COURSES_SUCCESS","GET_ONE_COURSES_FAIL","GET_ONE_COURSES_SUCCESS","LOADING_COURSES","UPDATE_COURSES_FAIL","UPDATE_COURSES_SUCCESS","axios","getALLCourses","dispatch","type","response","get","payload","data","error","addCourses","newCourses","navigate","post","headers","Authorization","localStorage","getItem","console","log","getOneCourses","id","updateOneCOURSES","newOne","put"],"sources":["E:/Nouveau dossier (2)/GoMyCode/projet/frontend/src/JS/actions/coursesActions.js"],"sourcesContent":["import {\n    ADD_COURSES_FAIL,\n    ADD_COURSES_SUCCESS,\n    GET_ALL_COURSES_FAIL,\n    GET_ALL_COURSES_SUCCESS,\n    GET_ONE_COURSES_FAIL,\n    GET_ONE_COURSES_SUCCESS,\n    LOADING_COURSES,\n    UPDATE_COURSES_FAIL,\n    UPDATE_COURSES_SUCCESS,\n  } from \"../constants/coursesConstant\";\n  import axios from \"axios\";\n  \n  export const getALLCourses = () => async (dispatch) => {\n    \n    dispatch({ type: LOADING_COURSES });\n    try {\n      const response = await axios.get(\"http://localhost:5000/Courses\");\n      dispatch({\n        type: GET_ALL_COURSES_SUCCESS,\n        payload: response.data\n        \n      });\n    } catch (error) {\n      dispatch({ type: GET_ALL_COURSES_FAIL, payload: error });\n    }\n  };\n  \n  export const addCourses = (newCourses,navigate) => async (dispatch) => {\n      try {\n      const response = await axios.post(\n        \"http://localhost:5000/Courses/AddCourses\",\n        newCourses,\n        {headers:{Authorization:`Bearer ${localStorage.getItem(\"token\")}`}}\n      );\n      console.log(response)\n      dispatch({ type: ADD_COURSES_SUCCESS });\n      //dispatch(getALLCourses())\n      navigate(\"/\")\n    } catch (error) {\n      console.log(error);\n      \n      dispatch({ type: ADD_COURSES_FAIL,payload:error });\n    }\n  };\n  \n  /*export const deleteCourses = (id) => async (dispatch) => {\n      try {\n        const response = await axios.delete(`http://localhost:5000/Courses/${id}`);\n        dispatch({\n          type: DELETE_COURSES_SUCCESS,\n        });  \n        dispatch(getALLCourses())\n      } catch (error) {\n        dispatch({ type: DELETE_COURSES_FAIL, payload: error });\n      }\n    };\n  */\n    \n  export const getOneCourses = (id) => async (dispatch) => {\n    try {\n      const response = await axios.get(`http://localhost:5000/Courses/${id}`);\n      dispatch({\n        type: GET_ONE_COURSES_SUCCESS,\n        payload: response.data\n      }); \n    } catch (error) {\n      dispatch({ type: GET_ONE_COURSES_FAIL, payload: error });\n    }\n  };\n  export const updateOneCOURSES = (id, newOne, navigate) => async (dispatch) => {\n    try {\n      const response = await axios.put(`http://localhost:5000/Courses/${id}`, newOne);\n      dispatch({\n        type: UPDATE_COURSES_SUCCESS,\n      });      \n      dispatch(getALLCourses())\n      navigate(\"/\")\n    } catch (error) {\n      dispatch({ type: UPDATE_COURSES_FAIL, payload: error });\n    }\n  };"],"mappings":"AAAA,SACIA,gBADJ,EAEIC,mBAFJ,EAGIC,oBAHJ,EAIIC,uBAJJ,EAKIC,oBALJ,EAMIC,uBANJ,EAOIC,eAPJ,EAQIC,mBARJ,EASIC,sBATJ,QAUS,8BAVT;AAWE,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM,MAAOC,QAAP,IAAoB;EAErDA,QAAQ,CAAC;IAAEC,IAAI,EAAEN;EAAR,CAAD,CAAR;;EACA,IAAI;IACF,MAAMO,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAN,CAAU,+BAAV,CAAvB;IACAH,QAAQ,CAAC;MACPC,IAAI,EAAET,uBADC;MAEPY,OAAO,EAAEF,QAAQ,CAACG;IAFX,CAAD,CAAR;EAKD,CAPD,CAOE,OAAOC,KAAP,EAAc;IACdN,QAAQ,CAAC;MAAEC,IAAI,EAAEV,oBAAR;MAA8Ba,OAAO,EAAEE;IAAvC,CAAD,CAAR;EACD;AACF,CAbM;AAeP,OAAO,MAAMC,UAAU,GAAG,CAACC,UAAD,EAAYC,QAAZ,KAAyB,MAAOT,QAAP,IAAoB;EACnE,IAAI;IACJ,MAAME,QAAQ,GAAG,MAAMJ,KAAK,CAACY,IAAN,CACrB,0CADqB,EAErBF,UAFqB,EAGrB;MAACG,OAAO,EAAC;QAACC,aAAa,EAAE,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;MAAvD;IAAT,CAHqB,CAAvB;IAKAC,OAAO,CAACC,GAAR,CAAYd,QAAZ;IACAF,QAAQ,CAAC;MAAEC,IAAI,EAAEX;IAAR,CAAD,CAAR,CAPI,CAQJ;;IACAmB,QAAQ,CAAC,GAAD,CAAR;EACD,CAVC,CAUA,OAAOH,KAAP,EAAc;IACdS,OAAO,CAACC,GAAR,CAAYV,KAAZ;IAEAN,QAAQ,CAAC;MAAEC,IAAI,EAAEZ,gBAAR;MAAyBe,OAAO,EAACE;IAAjC,CAAD,CAAR;EACD;AACF,CAhBM;AAkBP;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEE,OAAO,MAAMW,aAAa,GAAIC,EAAD,IAAQ,MAAOlB,QAAP,IAAoB;EACvD,IAAI;IACF,MAAME,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAN,CAAW,iCAAgCe,EAAG,EAA9C,CAAvB;IACAlB,QAAQ,CAAC;MACPC,IAAI,EAAEP,uBADC;MAEPU,OAAO,EAAEF,QAAQ,CAACG;IAFX,CAAD,CAAR;EAID,CAND,CAME,OAAOC,KAAP,EAAc;IACdN,QAAQ,CAAC;MAAEC,IAAI,EAAER,oBAAR;MAA8BW,OAAO,EAAEE;IAAvC,CAAD,CAAR;EACD;AACF,CAVM;AAWP,OAAO,MAAMa,gBAAgB,GAAG,CAACD,EAAD,EAAKE,MAAL,EAAaX,QAAb,KAA0B,MAAOT,QAAP,IAAoB;EAC5E,IAAI;IACF,MAAME,QAAQ,GAAG,MAAMJ,KAAK,CAACuB,GAAN,CAAW,iCAAgCH,EAAG,EAA9C,EAAiDE,MAAjD,CAAvB;IACApB,QAAQ,CAAC;MACPC,IAAI,EAAEJ;IADC,CAAD,CAAR;IAGAG,QAAQ,CAACD,aAAa,EAAd,CAAR;IACAU,QAAQ,CAAC,GAAD,CAAR;EACD,CAPD,CAOE,OAAOH,KAAP,EAAc;IACdN,QAAQ,CAAC;MAAEC,IAAI,EAAEL,mBAAR;MAA6BQ,OAAO,EAAEE;IAAtC,CAAD,CAAR;EACD;AACF,CAXM"},"metadata":{},"sourceType":"module"}