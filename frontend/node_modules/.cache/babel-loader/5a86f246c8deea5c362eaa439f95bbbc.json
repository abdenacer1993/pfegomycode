{"ast":null,"code":"import { ADD_CONTACT_FAIL, ADD_CONTACT_SUCCESS, GET_ALL_CONTACT_FAIL, GET_ALL_CONTACT_SUCCESS, GET_ONE_CONTACT_FAIL, GET_ONE_CONTACT_SUCCESS, LOADING_CONTACT, UPDATE_CONTACT_FAIL, UPDATE_CONTACT_SUCCESS, DELETE_CONTACT_SUCCESS, DELETE_CONTACT_FAIL } from \"../constants/contactConstante\";\nimport axios from \"axios\";\nexport const getALLmessage = () => async dispatch => {\n  dispatch({\n    type: LOADING_CONTACT\n  });\n\n  try {\n    const response = await axios.get(\"http://localhost:5000/contact/AllMessage\", {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    dispatch({\n      type: GET_ALL_CONTACT_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_ALL_CONTACT_FAIL,\n      payload: error\n    });\n  }\n};\nexport const sendMessage = newContact => async dispatch => {\n  try {\n    const response = await axios.post(\"http://localhost:5000/contact/Sendmessage\", newContact);\n    console.log(response);\n    dispatch({\n      type: ADD_CONTACT_SUCCESS\n    }); //dispatch(getALLCourses())\n    //navigate(\"/\")\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: ADD_CONTACT_FAIL,\n      payload: error\n    });\n  }\n};\nexport const deleteMessage = id => async dispatch => {\n  try {\n    const response = await axios.delete(`http://localhost:5000/contact/${id}`);\n    dispatch({\n      type: DELETE_CONTACT_SUCCESS\n    });\n    dispatch(getALLmessage());\n  } catch (error) {\n    dispatch({\n      type: DELETE_CONTACT_FAIL,\n      payload: error\n    });\n  }\n};\nexport const getOneMessage = id => async dispatch => {\n  try {\n    const response = await axios.get(`http://localhost:5000/contact/${id}`);\n    dispatch({\n      type: GET_ONE_CONTACT_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_ONE_CONTACT_FAIL,\n      payload: error\n    });\n  }\n};","map":{"version":3,"names":["ADD_CONTACT_FAIL","ADD_CONTACT_SUCCESS","GET_ALL_CONTACT_FAIL","GET_ALL_CONTACT_SUCCESS","GET_ONE_CONTACT_FAIL","GET_ONE_CONTACT_SUCCESS","LOADING_CONTACT","UPDATE_CONTACT_FAIL","UPDATE_CONTACT_SUCCESS","DELETE_CONTACT_SUCCESS","DELETE_CONTACT_FAIL","axios","getALLmessage","dispatch","type","response","get","headers","Authorization","localStorage","getItem","payload","data","error","sendMessage","newContact","post","console","log","deleteMessage","id","delete","getOneMessage"],"sources":["E:/Nouveau dossier (2)/GoMyCode/projet/frontend/src/JS/actions/contactActions.js"],"sourcesContent":["import {\r\n    ADD_CONTACT_FAIL,\r\n    ADD_CONTACT_SUCCESS,\r\n    GET_ALL_CONTACT_FAIL,\r\n    GET_ALL_CONTACT_SUCCESS,\r\n    GET_ONE_CONTACT_FAIL,\r\n    GET_ONE_CONTACT_SUCCESS,\r\n    LOADING_CONTACT,\r\n    UPDATE_CONTACT_FAIL,\r\n    UPDATE_CONTACT_SUCCESS,\r\n    DELETE_CONTACT_SUCCESS,\r\n    DELETE_CONTACT_FAIL\r\n  } from \"../constants/contactConstante\";\r\n  import axios from \"axios\";\r\n  \r\n  export const getALLmessage = () => async (dispatch) => {\r\n    \r\n    dispatch({ type: LOADING_CONTACT });\r\n    try {\r\n      const response = await axios.get(\r\n        \"http://localhost:5000/contact/AllMessage\",\r\n        {headers:{Authorization:`Bearer ${localStorage.getItem(\"token\")}`}}\r\n      )\r\n      dispatch({\r\n        type: GET_ALL_CONTACT_SUCCESS,\r\n        payload: response.data\r\n        \r\n      });\r\n    } catch (error) {\r\n      dispatch({ type: GET_ALL_CONTACT_FAIL, payload: error });\r\n    }\r\n  };\r\n  \r\n  export const sendMessage = (newContact) => async (dispatch) => {\r\n      try {\r\n      const response = await axios.post(\r\n        \"http://localhost:5000/contact/Sendmessage\",\r\n        newContact,\r\n        \r\n      );\r\n      console.log(response)\r\n      dispatch({ type: ADD_CONTACT_SUCCESS });\r\n      //dispatch(getALLCourses())\r\n      //navigate(\"/\")\r\n    } catch (error) {\r\n      console.log(error);\r\n      \r\n      dispatch({ type: ADD_CONTACT_FAIL,payload:error });\r\n    }\r\n  };\r\n  \r\n  export const deleteMessage = (id) => async (dispatch) => {\r\n      try {\r\n        const response = await axios.delete(`http://localhost:5000/contact/${id}`);\r\n        dispatch({\r\n          type: DELETE_CONTACT_SUCCESS,\r\n        });  \r\n        dispatch(getALLmessage())\r\n      } catch (error) {\r\n        dispatch({ type: DELETE_CONTACT_FAIL, payload: error });\r\n      }\r\n    };\r\n  \r\n    \r\n  export const getOneMessage = (id) => async (dispatch) => {\r\n    try {\r\n      const response = await axios.get(`http://localhost:5000/contact/${id}`);\r\n      dispatch({\r\n        type: GET_ONE_CONTACT_SUCCESS,\r\n        payload: response.data\r\n      }); \r\n    } catch (error) {\r\n      dispatch({ type: GET_ONE_CONTACT_FAIL, payload: error });\r\n    }\r\n  };\r\n  "],"mappings":"AAAA,SACIA,gBADJ,EAEIC,mBAFJ,EAGIC,oBAHJ,EAIIC,uBAJJ,EAKIC,oBALJ,EAMIC,uBANJ,EAOIC,eAPJ,EAQIC,mBARJ,EASIC,sBATJ,EAUIC,sBAVJ,EAWIC,mBAXJ,QAYS,+BAZT;AAaE,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM,MAAOC,QAAP,IAAoB;EAErDA,QAAQ,CAAC;IAAEC,IAAI,EAAER;EAAR,CAAD,CAAR;;EACA,IAAI;IACF,MAAMS,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAN,CACrB,0CADqB,EAErB;MAACC,OAAO,EAAC;QAACC,aAAa,EAAE,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;MAAvD;IAAT,CAFqB,CAAvB;IAIAP,QAAQ,CAAC;MACPC,IAAI,EAAEX,uBADC;MAEPkB,OAAO,EAAEN,QAAQ,CAACO;IAFX,CAAD,CAAR;EAKD,CAVD,CAUE,OAAOC,KAAP,EAAc;IACdV,QAAQ,CAAC;MAAEC,IAAI,EAAEZ,oBAAR;MAA8BmB,OAAO,EAAEE;IAAvC,CAAD,CAAR;EACD;AACF,CAhBM;AAkBP,OAAO,MAAMC,WAAW,GAAIC,UAAD,IAAgB,MAAOZ,QAAP,IAAoB;EAC3D,IAAI;IACJ,MAAME,QAAQ,GAAG,MAAMJ,KAAK,CAACe,IAAN,CACrB,2CADqB,EAErBD,UAFqB,CAAvB;IAKAE,OAAO,CAACC,GAAR,CAAYb,QAAZ;IACAF,QAAQ,CAAC;MAAEC,IAAI,EAAEb;IAAR,CAAD,CAAR,CAPI,CAQJ;IACA;EACD,CAVC,CAUA,OAAOsB,KAAP,EAAc;IACdI,OAAO,CAACC,GAAR,CAAYL,KAAZ;IAEAV,QAAQ,CAAC;MAAEC,IAAI,EAAEd,gBAAR;MAAyBqB,OAAO,EAACE;IAAjC,CAAD,CAAR;EACD;AACF,CAhBM;AAkBP,OAAO,MAAMM,aAAa,GAAIC,EAAD,IAAQ,MAAOjB,QAAP,IAAoB;EACrD,IAAI;IACF,MAAME,QAAQ,GAAG,MAAMJ,KAAK,CAACoB,MAAN,CAAc,iCAAgCD,EAAG,EAAjD,CAAvB;IACAjB,QAAQ,CAAC;MACPC,IAAI,EAAEL;IADC,CAAD,CAAR;IAGAI,QAAQ,CAACD,aAAa,EAAd,CAAR;EACD,CAND,CAME,OAAOW,KAAP,EAAc;IACdV,QAAQ,CAAC;MAAEC,IAAI,EAAEJ,mBAAR;MAA6BW,OAAO,EAAEE;IAAtC,CAAD,CAAR;EACD;AACF,CAVI;AAaP,OAAO,MAAMS,aAAa,GAAIF,EAAD,IAAQ,MAAOjB,QAAP,IAAoB;EACvD,IAAI;IACF,MAAME,QAAQ,GAAG,MAAMJ,KAAK,CAACK,GAAN,CAAW,iCAAgCc,EAAG,EAA9C,CAAvB;IACAjB,QAAQ,CAAC;MACPC,IAAI,EAAET,uBADC;MAEPgB,OAAO,EAAEN,QAAQ,CAACO;IAFX,CAAD,CAAR;EAID,CAND,CAME,OAAOC,KAAP,EAAc;IACdV,QAAQ,CAAC;MAAEC,IAAI,EAAEV,oBAAR;MAA8BiB,OAAO,EAAEE;IAAvC,CAAD,CAAR;EACD;AACF,CAVM"},"metadata":{},"sourceType":"module"}