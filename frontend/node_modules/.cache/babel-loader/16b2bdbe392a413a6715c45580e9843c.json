{"ast":null,"code":"import axios from \"axios\";\nimport { LOADING_USERS, GET_CANDIDAT_FAIL, GET_CANDIDAT_SUCCESS, GET_FORMATEUR_FAIL, GET_FORMATEUR_SUCCESS, LOGIN_FAIL, LOGIN_SUCCESS, LOGOUT, REGISTER_FAIL, REGISTER_SUCCESS, DELETE_CANDIDAT_SUCCESS, DELETE_CANDIDAT_FAIL, DELETE_FORMATEUR_SUCCESS, DELETE_FORMATEUR_FAIL } from \"../constants/userConstants\";\nexport const register = (newUser, navigate) => async dispatch => {\n  try {\n    const response = await axios.post(\"http://localhost:5000/users/Register\", newUser);\n    console.log(response);\n    dispatch({\n      type: REGISTER_SUCCESS,\n      payload: response.data.user\n    });\n    navigate(\"/Login\");\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: REGISTER_FAIL,\n      payload: error\n    });\n  }\n};\nexport const login = (logedUser, navigate) => async dispatch => {\n  try {\n    const response = await axios.post(\"http://localhost:5000/users/Login\", logedUser);\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: response.data\n    });\n    navigate(\"/Dashboard\");\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: LOGIN_FAIL,\n      payload: error\n    });\n  }\n};\nexport const getCandidat = () => async dispatch => {\n  dispatch({\n    type: LOADING_USERS\n  });\n\n  try {\n    const response = await axios.get(\"http://localhost:5000/users/allCandidat\", {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    dispatch({\n      type: GET_CANDIDAT_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: GET_CANDIDAT_FAIL,\n      payload: error\n    });\n  }\n};\nexport const getFormateur = () => async dispatch => {\n  dispatch({\n    type: LOADING_USERS\n  });\n\n  try {\n    const response = await axios.get(\"http://localhost:5000/users/allFormateur\", {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    dispatch({\n      type: GET_FORMATEUR_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: GET_FORMATEUR_FAIL,\n      payload: error\n    });\n  }\n};\nexport const deleteFormateur = id => async dispatch => {\n  try {\n    const response = await axios.delete(`http://localhost:5000/users/${id}`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    dispatch({\n      type: DELETE_FORMATEUR_SUCCESS\n    });\n    dispatch(getFormateur());\n  } catch (error) {\n    dispatch({\n      type: DELETE_FORMATEUR_FAIL,\n      payload: error\n    });\n  }\n};\nexport const deleteCandidat = id => async dispatch => {\n  try {\n    const response = await axios.delete(`http://localhost:5000/users/${id}`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    dispatch({\n      type: DELETE_CANDIDAT_SUCCESS\n    });\n    dispatch(getCandidat());\n  } catch (error) {\n    dispatch({\n      type: DELETE_CANDIDAT_FAIL,\n      payload: error\n    });\n  }\n};\nexport const logout = navigate => {\n  navigate(\"/Login\");\n  return {\n    type: LOGOUT\n  };\n};","map":{"version":3,"names":["axios","LOADING_USERS","GET_CANDIDAT_FAIL","GET_CANDIDAT_SUCCESS","GET_FORMATEUR_FAIL","GET_FORMATEUR_SUCCESS","LOGIN_FAIL","LOGIN_SUCCESS","LOGOUT","REGISTER_FAIL","REGISTER_SUCCESS","DELETE_CANDIDAT_SUCCESS","DELETE_CANDIDAT_FAIL","DELETE_FORMATEUR_SUCCESS","DELETE_FORMATEUR_FAIL","register","newUser","navigate","dispatch","response","post","console","log","type","payload","data","user","error","login","logedUser","getCandidat","get","headers","Authorization","localStorage","getItem","getFormateur","deleteFormateur","id","delete","deleteCandidat","logout"],"sources":["E:/Nouveau dossier (2)/GoMyCode/projet/frontend/src/JS/actions/userActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  LOADING_USERS,\r\n  GET_CANDIDAT_FAIL,\r\n  GET_CANDIDAT_SUCCESS,\r\n  GET_FORMATEUR_FAIL,\r\n  GET_FORMATEUR_SUCCESS,\r\n  LOGIN_FAIL,\r\n  LOGIN_SUCCESS,\r\n  LOGOUT,\r\n  REGISTER_FAIL,\r\n  REGISTER_SUCCESS,\r\n  DELETE_CANDIDAT_SUCCESS,\r\n  DELETE_CANDIDAT_FAIL,\r\n  DELETE_FORMATEUR_SUCCESS,\r\n  DELETE_FORMATEUR_FAIL,\r\n} from \"../constants/userConstants\";\r\n\r\nexport const register = (newUser, navigate) => async (dispatch) => {\r\n  try {\r\n    const response = await axios.post(\r\n      \"http://localhost:5000/users/Register\",\r\n      newUser\r\n    );\r\n    console.log(response)\r\n\r\n    dispatch({ type: REGISTER_SUCCESS, payload: response.data.user});\r\n    \r\n    navigate(\"/Login\");\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({ type: REGISTER_FAIL, payload: error });\r\n  }\r\n};\r\n\r\nexport const login = (logedUser, navigate) => async (dispatch) => {\r\n  try {\r\n    const response = await axios.post(\r\n      \"http://localhost:5000/users/Login\",\r\n      logedUser\r\n    );\r\n    dispatch({ type: LOGIN_SUCCESS, payload: response.data });\r\n    navigate(\"/Dashboard\");\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({ type: LOGIN_FAIL, payload: error });\r\n  }\r\n};\r\n\r\nexport const getCandidat = () => async (dispatch) => {\r\n  dispatch({ type: LOADING_USERS });\r\n  try {\r\n    const response = await axios.get(\r\n      \"http://localhost:5000/users/allCandidat\",\r\n      { headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` } }\r\n    );\r\n      dispatch({ type: GET_CANDIDAT_SUCCESS, \r\n      payload: response.data\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({ type: GET_CANDIDAT_FAIL, payload: error });\r\n  }\r\n};\r\n\r\nexport const getFormateur = () => async (dispatch) => {\r\n  dispatch({ type: LOADING_USERS });\r\n    try {\r\n    const response = await axios.get(\r\n      \"http://localhost:5000/users/allFormateur\",\r\n      { headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` } }\r\n    );\r\n    \r\n    dispatch({ type: GET_FORMATEUR_SUCCESS, payload: response.data });\r\n  } catch (error) {\r\n    dispatch({ type: GET_FORMATEUR_FAIL, payload: error });\r\n  }\r\n};\r\n\r\nexport const deleteFormateur = (id) => async (dispatch) => {\r\n  \r\n  try {\r\n    const response = await axios.delete(`http://localhost:5000/users/${id}`,\r\n    { headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` } }\r\n    );\r\n    \r\n    dispatch({\r\n      type: DELETE_FORMATEUR_SUCCESS\r\n    });  \r\n    dispatch(getFormateur())\r\n  } catch (error) {\r\n    dispatch({ type: DELETE_FORMATEUR_FAIL, payload: error });\r\n  }\r\n};\r\n\r\nexport const deleteCandidat = (id) => async (dispatch) => {\r\n  try {\r\n    const response = await axios.delete(`http://localhost:5000/users/${id}`,\r\n    { headers: { Authorization: `Bearer ${localStorage.getItem(\"token\")}` } }\r\n    );\r\n    dispatch({\r\n      type: DELETE_CANDIDAT_SUCCESS,\r\n    });  \r\n    dispatch(getCandidat())\r\n  } catch (error) {\r\n    dispatch({ type: DELETE_CANDIDAT_FAIL, payload: error });\r\n  }\r\n};\r\n\r\nexport const logout = (navigate) => {\r\n  navigate(\"/Login\");\r\n  return { type: LOGOUT };\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}