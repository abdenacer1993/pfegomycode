{"ast":null,"code":"import axios from \"axios\";\nimport { GET_CURRENT_FAIL, GET_CURRENT_SUCCESS, LOGIN_FAIL, LOGIN_SUCCESS, LOGOUT, REGISTER_FAIL, REGISTER_SUCCESS } from \"../constants/userConstants\";\nexport const register = (newUser, navigate) => async dispatch => {\n  try {\n    const response = await axios.post(\"http://localhost:5000/users/Register\", newUser);\n    dispatch({\n      type: REGISTER_SUCCESS,\n      payload: response.data.user\n    });\n    navigate(\"/login\");\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: REGISTER_FAIL,\n      payload: error\n    });\n  }\n};\nexport const login = (logedUser, navigate) => async dispatch => {\n  try {\n    const response = await axios.post(\"http://localhost:5000/users/login\", logedUser);\n    dispatch({\n      type: LOGIN_SUCCESS,\n      payload: response.data\n    });\n    navigate(\"/dashboard\");\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: LOGIN_FAIL,\n      payload: error\n    });\n  }\n};\nexport const getCurrent = () => async dispatch => {\n  try {\n    const response = await axios.get(\"http://localhost:5000/users/current\", {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    dispatch({\n      type: GET_CURRENT_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    console.log(error);\n    dispatch({\n      type: GET_CURRENT_FAIL,\n      payload: error\n    });\n  }\n};\nexport const logout = navigate => {\n  navigate(\"/login\");\n  return {\n    type: LOGOUT\n  };\n};","map":{"version":3,"names":["axios","GET_CURRENT_FAIL","GET_CURRENT_SUCCESS","LOGIN_FAIL","LOGIN_SUCCESS","LOGOUT","REGISTER_FAIL","REGISTER_SUCCESS","register","newUser","navigate","dispatch","response","post","type","payload","data","user","error","console","log","login","logedUser","getCurrent","get","headers","Authorization","localStorage","getItem","logout"],"sources":["E:/Nouveau dossier (2)/GoMyCode/projet/frontend/src/JS/actions/userActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { GET_CURRENT_FAIL, GET_CURRENT_SUCCESS, LOGIN_FAIL, LOGIN_SUCCESS, LOGOUT, REGISTER_FAIL, REGISTER_SUCCESS } from \"../constants/userConstants\";\r\n\r\nexport const register = (newUser, navigate) => async (dispatch) => {\r\n  try {\r\n    const response = await axios.post(\r\n      \"http://localhost:5000/users/Register\",\r\n      newUser\r\n    );\r\n    dispatch({ type: REGISTER_SUCCESS, payload: response.data.user });\r\n    navigate(\"/login\");\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({ type: REGISTER_FAIL, payload: error });\r\n  }\r\n};\r\n\r\nexport const login = (logedUser, navigate) => async (dispatch) => {\r\n  try {\r\n    const response = await axios.post(\r\n      \"http://localhost:5000/users/login\",\r\n      logedUser\r\n    );\r\n    dispatch({ type: LOGIN_SUCCESS, payload: response.data });\r\n    navigate(\"/dashboard\");\r\n  } catch (error) {\r\n    console.log(error);\r\n    dispatch({ type: LOGIN_FAIL, payload: error });\r\n  }\r\n};\r\n\r\nexport const getCurrent = () => async (dispatch) => {\r\n    try {\r\n      const response = await axios.get(\r\n        \"http://localhost:5000/users/current\",{headers:{Authorization:`Bearer ${localStorage.getItem(\"token\")}`}}\r\n      );\r\n      dispatch({ type: GET_CURRENT_SUCCESS, payload: response.data });\r\n      \r\n    } catch (error) {\r\n      console.log(error);\r\n      dispatch({ type: GET_CURRENT_FAIL, payload: error });\r\n    }\r\n  };\r\n\r\n\r\nexport const logout=(navigate)=>{\r\n    navigate(\"/login\")\r\n    return {type:LOGOUT}\r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,gBAAT,EAA2BC,mBAA3B,EAAgDC,UAAhD,EAA4DC,aAA5D,EAA2EC,MAA3E,EAAmFC,aAAnF,EAAkGC,gBAAlG,QAA0H,4BAA1H;AAEA,OAAO,MAAMC,QAAQ,GAAG,CAACC,OAAD,EAAUC,QAAV,KAAuB,MAAOC,QAAP,IAAoB;EACjE,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAN,CACrB,sCADqB,EAErBJ,OAFqB,CAAvB;IAIAE,QAAQ,CAAC;MAAEG,IAAI,EAAEP,gBAAR;MAA0BQ,OAAO,EAAEH,QAAQ,CAACI,IAAT,CAAcC;IAAjD,CAAD,CAAR;IACAP,QAAQ,CAAC,QAAD,CAAR;EACD,CAPD,CAOE,OAAOQ,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACAP,QAAQ,CAAC;MAAEG,IAAI,EAAER,aAAR;MAAuBS,OAAO,EAAEG;IAAhC,CAAD,CAAR;EACD;AACF,CAZM;AAcP,OAAO,MAAMG,KAAK,GAAG,CAACC,SAAD,EAAYZ,QAAZ,KAAyB,MAAOC,QAAP,IAAoB;EAChE,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACa,IAAN,CACrB,mCADqB,EAErBS,SAFqB,CAAvB;IAIAX,QAAQ,CAAC;MAAEG,IAAI,EAAEV,aAAR;MAAuBW,OAAO,EAAEH,QAAQ,CAACI;IAAzC,CAAD,CAAR;IACAN,QAAQ,CAAC,YAAD,CAAR;EACD,CAPD,CAOE,OAAOQ,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACAP,QAAQ,CAAC;MAAEG,IAAI,EAAEX,UAAR;MAAoBY,OAAO,EAAEG;IAA7B,CAAD,CAAR;EACD;AACF,CAZM;AAcP,OAAO,MAAMK,UAAU,GAAG,MAAM,MAAOZ,QAAP,IAAoB;EAChD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMZ,KAAK,CAACwB,GAAN,CACrB,qCADqB,EACiB;MAACC,OAAO,EAAC;QAACC,aAAa,EAAE,UAASC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;MAAvD;IAAT,CADjB,CAAvB;IAGAjB,QAAQ,CAAC;MAAEG,IAAI,EAAEZ,mBAAR;MAA6Ba,OAAO,EAAEH,QAAQ,CAACI;IAA/C,CAAD,CAAR;EAED,CAND,CAME,OAAOE,KAAP,EAAc;IACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ;IACAP,QAAQ,CAAC;MAAEG,IAAI,EAAEb,gBAAR;MAA0Bc,OAAO,EAAEG;IAAnC,CAAD,CAAR;EACD;AACF,CAXI;AAcP,OAAO,MAAMW,MAAM,GAAEnB,QAAD,IAAY;EAC5BA,QAAQ,CAAC,QAAD,CAAR;EACA,OAAO;IAACI,IAAI,EAACT;EAAN,CAAP;AACH,CAHM"},"metadata":{},"sourceType":"module"}